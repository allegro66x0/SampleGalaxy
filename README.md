# Sample Galaxy

大量のサンプルパックをAIで分析し、類似した音をまとめて可視化するツールです。

## 機能
- **Galaxy View**: 似た音が近くに集まる直感的なマップ。
- **スマート視聴**: クリックで再生。矢印キーや右クリックで「似た音」へ次々ジャンプ。
- **DAW連携**: 気に入った音はドラッグ＆ドロップで直接DAWへ。
- **タグフィルター**: Kick, Snare, Loop などのカテゴリで表示を絞り込み。

## 使い方

### 1. 準備
```bash
pip install -r requirements.txt
```

### 2. 解析 (初回のみ)
WAVファイルから特徴データを抽出します。
```bash
# フォルダパスを指定
python extractor.py "C:\Users\Music\Samples"
```

### 3. 配置
抽出データをもとにマップを作成します。
`--spread` で点の密度（広がり）を調整できます5.0~10.0推奨。
```bash
python sorter.py --spread 8.0
```

### 4. 起動
```bash
python main.py
```

## 操作方法

- **左クリック**: サンプルの再生 / 選択 & 履歴更新
- **右クリックドラッグ**: スクラビング再生 (マウスの移動に合わせて連続再生、停止は自動クロスフェード)
- **スペースキー**: ランダムジャンプ (現在選択中のサンプルに似た音へ移動)
- **マウスホイール**: ズームイン / アウト
- **右ドラッグ (背景)**: パン (視点移動)
- **左ドラッグ**: ファイルをDAWへドラッグ＆ドロップ
- **Fキー**: お気に入り登録 / 解除

## お気に入り機能

- **リスト操作**: ドラッグ&ドロップでリストにお気に入りを追加可能。
- **削除**: リスト内の「×」ボタンで削除。
- **連携**: リストをクリックするとそのサンプルがプロット上でも選択され、スペースキーで「似た音」を探す起点にできます。

## ファイル構成 (開発者向け)

- `main.py`: アプリケーションのエントリーポイント
- `ui_components.py`: GUIパーツ (プロット、リストなど)
- `audio_engine.py`: 音声再生エンジン
- `utils.py`: ヘルパー関数
- `extractor.py`: 特徴抽出スクリプト
- `sorter.py`: 次元圧縮・配置スクリプト
